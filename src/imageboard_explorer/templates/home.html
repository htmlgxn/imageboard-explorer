{% extends "layout.html" %}

{% block content %}
  <section class="home">
    <div class="home-title">select board</div>
    {% if error %}
      <div class="error-panel">{{ error }}</div>
    {% else %}
      <div class="board-select">
        <ul class="board-list">
          {% for board in boards %}
            <li
              class="board-item selectable {% if board.board == selected %}selected{% endif %}"
              data-href="/board/{{ board.board }}/catalog"
              data-board="{{ board.board }}"
              data-desc="{{ board.description }}"
              data-title="{{ board.title }}"
            >
              <span class="bullet">●</span>
              <span class="board-name">/{{ board.board }}/</span>
              <span class="board-safety">{{ "SFW" if board.ws_board == 1 else "NSFW" }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
      <div class="board-description" id="board-description">{{ selected_description }}</div>
      <div id="board-search" class="rofi-overlay hidden" aria-hidden="true">
        <div class="rofi-box">
          <div class="rofi-input"><span class="prompt">search</span> <span id="rofi-query"></span></div>
          <ul id="rofi-results"></ul>
        </div>
      </div>
    {% endif %}
  </section>
{% endblock %}

{% block status %}
  <span class="status-item"><span class="key">type</span><span class="label">search</span></span>
  <span class="status-item"><span class="key">↑/↓</span><span class="label">move</span></span>
  <span class="status-item"><span class="key">enter</span><span class="label">select</span></span>
  <span class="status-item"><span class="key">esc/backspace</span><span class="label">close search</span></span>
{% endblock %}
